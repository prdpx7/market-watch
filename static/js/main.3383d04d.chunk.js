(this["webpackJsonpmarket-watch"]=this["webpackJsonpmarket-watch"]||[]).push([[0],{30:function(e,t,n){e.exports=n(56)},35:function(e,t,n){},52:function(e,t,n){},54:function(e,t,n){},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(22),i=n.n(r),o=(n(35),n(4)),h=n(5),s=n(6),l=n(8),u=n(7),d=n(9),m=n(3),f=n(23),g=n.n(f),p=n(1),k=(n(52),n(53),{xs:"479px",sm:"767px",md:"991px",lg:"1199px"}),b={themeName:"light",bg:"#fff",primary:"#111",breakpoints:k,linkColor:"#61dafb",darkGray:"#2b2d3c",green:"green",backgroundGreen:"#ddf0b4",backgroundRed:"#f7c2ba",red:"red",indexChangeFontWeight:"500",fontWeight:"500",indexFooterColor:"grey"},v={themeName:"dark",bg:"#282c34",primary:"#fff",linkColor:"#61dafb",breakpoints:k,green:"green",red:"red",backgroundGreen:"#ddf0b4",backgroundRed:"#f7c2ba",indexChangeFontWeight:"600",fontWeight:"600",indexFooterColor:"lightgrey"},y=n(28),E=n(24),O=n.n(E);n(54);function C(e){if(e){var t=e.changedTouches;if(t&&t.length>0){var n=t[0];return{x:n.clientX,y:n.clientY}}var a=e.pageX;if(void 0!==a)return{x:a,y:e.pageY}}return{x:0,y:0}}var j=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).handleClick=n.handleClick.bind(Object(o.a)(n)),n.handleTouchStart=n.handleTouchStart.bind(Object(o.a)(n)),n.handleTouchMove=n.handleTouchMove.bind(Object(o.a)(n)),n.handleTouchEnd=n.handleTouchEnd.bind(Object(o.a)(n)),n.handleFocus=n.handleFocus.bind(Object(o.a)(n)),n.handleBlur=n.handleBlur.bind(Object(o.a)(n)),n.previouslyChecked=!(!e.checked&&!e.defaultChecked),n.state={checked:!(!e.checked&&!e.defaultChecked),hasFocus:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){e.checked!==this.props.checked&&this.setState({checked:!!this.props.checked})}},{key:"handleClick",value:function(e){if(!this.props.disabled){var t=this.input;if(e.target!==t&&!this.moved)return this.previouslyChecked=t.checked,e.preventDefault(),t.focus(),void t.click();var n=this.props.hasOwnProperty("checked")?this.props.checked:t.checked;this.setState({checked:n})}}},{key:"handleTouchStart",value:function(e){this.props.disabled||(this.startX=C(e).x,this.activated=!0)}},{key:"handleTouchMove",value:function(e){if(this.activated&&(this.moved=!0,this.startX)){var t=C(e).x;this.state.checked&&t+15<this.startX?(this.setState({checked:!1}),this.startX=t,this.activated=!0):t-15>this.startX&&(this.setState({checked:!0}),this.startX=t,this.activated=t<this.startX+5)}}},{key:"handleTouchEnd",value:function(e){if(this.moved){var t=this.input;if(e.preventDefault(),this.startX){var n=C(e).x;!0===this.previouslyChecked&&this.startX+4>n?this.previouslyChecked!==this.state.checked&&(this.setState({checked:!1}),this.previouslyChecked=this.state.checked,t.click()):this.startX-4<n&&this.previouslyChecked!==this.state.checked&&(this.setState({checked:!0}),this.previouslyChecked=this.state.checked,t.click()),this.activated=!1,this.startX=null,this.moved=!1}}}},{key:"handleFocus",value:function(e){var t=this.props.onFocus;t&&t(e),this.setState({hasFocus:!0})}},{key:"handleBlur",value:function(e){var t=this.props.onBlur;t&&t(e),this.setState({hasFocus:!1})}},{key:"getIcon",value:function(e){var n=this.props.icons;return n?void 0===n[e]?t.defaultProps.icons[e]:n[e]:null}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,a=(t.icons,Object(y.a)(t,["className","icons"])),r=O()("react-toggle",{"react-toggle--checked":this.state.checked,"react-toggle--focus":this.state.hasFocus,"react-toggle--disabled":this.props.disabled},n);return c.a.createElement("div",{className:r,onClick:this.handleClick,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},c.a.createElement("div",{className:"react-toggle-track"},c.a.createElement("div",{className:"react-toggle-track-check"},this.getIcon("checked")),c.a.createElement("div",{className:"react-toggle-track-x"},this.getIcon("unchecked"))),c.a.createElement("div",{className:"react-toggle-thumb"}),c.a.createElement("input",Object.assign({},a,{ref:function(t){e.input=t},onFocus:this.handleFocus,onBlur:this.handleBlur,className:"react-toggle-screenreader-only",type:"checkbox"})))}}]),t}(a.PureComponent);function x(){var e=Object(m.a)(["\n  min-height: 100vh;\n  display: flex;\n  flex-flow: wrap;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: ",";\n"]);return x=function(){return e},e}function N(){var e=Object(m.a)(["\n  font-weight: 600;\n  font-size: 2rem;\n  color: ",";\n  margin-left: auto;\n"]);return N=function(){return e},e}function S(){var e=Object(m.a)(["\n  font-weight: 500;\n  color: ",";\n  text-decoration: unset;\n"]);return S=function(){return e},e}function w(){var e=Object(m.a)(["\n  color: ",";\n  font-weight: 600;\n  font-size: 1.3rem;\n  padding-bottom: 2rem;\n"]);return w=function(){return e},e}function T(){var e=Object(m.a)(["\n  background-color: ",";\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 2rem;\n"]);return T=function(){return e},e}function F(){var e=Object(m.a)(["\n  .react-toggle--checked .react-toggle-track {\n    background-color: blue;\n  }\n  margin-left: auto;\n"]);return F=function(){return e},e}function X(){var e=Object(m.a)(["\n  text-align: center;\n  background-color: ",";\n"]);return X=function(){return e},e}function I(){var e=Object(m.a)(["\n  font-weight: 400;\n  font-size: 0.75rem;\n  color: ",";\n"]);return I=function(){return e},e}function B(){var e=Object(m.a)(["\n  color: ",";\n  font-weight: ",";\n  font-size: 1.5rem;\n"]);return B=function(){return e},e}function M(){var e=Object(m.a)(["\n  color: ",";\n  font-weight: ",";\n  margin-left: 0.6rem;\n"]);return M=function(){return e},e}function W(){var e=Object(m.a)(["\n  color: ",",\n  font-weight: '500'\n"]);return W=function(){return e},e}function D(){var e=Object(m.a)(["\n  @media (max-width: ","){\n    margin: 1rem;\n  }\n  @media (min-width: ","){\n    margin: 2.5rem;\n  }\n"]);return D=function(){return e},e}j.displayName="Toggle";var A={NIFTY:"/pricefeed/notapplicable/inidicesindia/in%3BNSX",SENSEX:"/pricefeed/notapplicable/inidicesindia/in%3BSEN",NASDAQ:"/pricefeed/notapplicable/indicesglobal/us%3BCOMP",DOWJONES:"/pricefeed/notapplicable/indicesglobal/US%3Bdji"},G=p.b.div(D(),(function(e){return e.theme.breakpoints.sm}),(function(e){return e.theme.breakpoints.sm})),L=p.b.span(W(),(function(e){return e.theme.primary})),z=p.b.span(M(),(function(e){return e.isIncreasing?e.theme.green:e.theme.red}),(function(e){return e.theme.indexChangeFontWeight})),P=p.b.div(B(),(function(e){return e.theme.primary}),(function(e){return e.theme.fontWeight})),H=p.b.div(I(),(function(e){return e.theme.indexFooterColor})),J=function(e){return new Intl.NumberFormat("en-In").format(e)},U=function(e){return c.a.createElement(G,null,c.a.createElement(P,null,e.data.company),c.a.createElement("div",null,c.a.createElement(L,null,J(e.data.pricecurrent)),c.a.createElement(z,{isIncreasing:e.data.CHANGE>0},e.data.CHANGE>0?"\u25b2":"\u25bc","  ",J(e.data.CHANGE)," (",e.data.PERCCHANGE,"%)"),c.a.createElement(H,null,"Last Updated on: ",function(e){var t=new Date(0);return t.setUTCSeconds(e),t.toLocaleString()}(e.data.lastupd_epoch))))},Y=function(e){function t(e){var n;return Object(h.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this,e))).state={exchangeName:e.exchangeName,data:null,isLoaded:!1},n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"fetchMarketStats",value:function(){var e=this,t=A[this.state.exchangeName],n="".concat("https://priceapi.moneycontrol.com").concat(t);g.a.get(n).then((function(t){console.log(t),e.setState({data:t.data.data,isLoaded:!0})})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.timer=setInterval((function(){e.fetchMarketStats()}),5e3)}},{key:"componentWillMount",value:function(){this.timer=null}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,n=e.exchangeName,a=e.data;return c.a.createElement("div",null,t?c.a.createElement(U,{data:a,exchangeName:n}):c.a.createElement("p",null,"Loading...."))}}]),t}(c.a.Component),R=p.b.div(X(),(function(e){return e.theme.bg})),Q=Object(p.b)(j)(F()),_=p.b.header(T(),(function(e){return e.theme.bg})),$=p.b.footer(w(),(function(e){return e.theme.primary})),q=p.b.a(S(),(function(e){return e.theme.linkColor})),K=p.b.h1(N(),(function(e){return e.theme.primary})),V=p.b.div(x(),(function(e){return e.theme.primary})),Z=function(e){function t(e){var n;Object(h.a)(this,t),n=Object(l.a)(this,Object(u.a)(t).call(this,e));var a=localStorage.getItem("theme"),c="dark"===a?v:b;return n.state={theme:c,themeName:a||"light",toggleChecked:c!==b},n.changeTheme=n.changeTheme.bind(Object(o.a)(n)),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"changeTheme",value:function(){var e=(this.state.toggleChecked?b:v)===b?"light":"dark";localStorage.setItem("theme",e),this.setState({toggleChecked:!this.state.toggleChecked,theme:this.state.toggleChecked?b:v,themeName:e})}},{key:"render",value:function(){return c.a.createElement(p.a,{theme:this.state.theme},c.a.createElement(R,null,c.a.createElement(_,null,c.a.createElement(K,null,"Market Watch"),c.a.createElement(Q,{defaultChecked:this.state.toggleChecked,icons:{checked:null,unchecked:null},checked:this.state.toggleChecked,onChange:this.changeTheme})),c.a.createElement(V,null,c.a.createElement(Y,{exchangeName:"NIFTY"}),c.a.createElement(Y,{exchangeName:"SENSEX"}),c.a.createElement(Y,{exchangeName:"NASDAQ"}),c.a.createElement(Y,{exchangeName:"DOWJONES"})),c.a.createElement($,null,"Made by ",c.a.createElement(q,{href:"https://twitter.com/prdpx7/",target:"_blank",rel:"noopener"},"@prdpx7"))))}}]),t}(c.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.3383d04d.chunk.js.map